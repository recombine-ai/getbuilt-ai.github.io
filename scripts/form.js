document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".form__checkbox-img");e.addEventListener("click",(t=>{t.preventDefault(),e.classList.toggle("checked")}));e.parentElement.addEventListener("click",(t=>{"A"!==t.target.tagName&&"BUTTON"!==t.target.tagName&&(t.preventDefault(),e.click())}));const t=document.getElementById("request-form"),n=t.querySelector('input[name="name"]'),a=t.querySelector('input[name="email"]'),c=t.querySelector('input[name="company"]'),r=t.querySelector('input[name="privacy-consent"]'),o=document.querySelector(".main__form-errors"),s=document.querySelector(".main__form-body"),i=document.querySelector(".main__form-done"),l=t.querySelector("form-button");function d(){const t=[];return n.value.trim()||t.push({text:"full name",input:n}),c.value.trim()||t.push({text:"company name",input:c}),a.value.trim()||t.push({text:"work email",input:a}),r.checked||e.classList.contains("checked")||t.push({text:"consent",input:e}),o.querySelectorAll("a").forEach((e=>e.remove())),t.forEach(((e,n)=>{const a=document.createElement("a");a.classList.add("form__underlined"),a.href="#",a.textContent=e.text+(n<t.length-1?",":"."),a.addEventListener("click",(t=>{t.preventDefault(),e.input.focus()})),o.appendChild(a)})),t.length?o.classList.add("has-errors"):o.classList.remove("has-errors"),0===t.length}t.addEventListener("submit",(async o=>{if(o.preventDefault(),d()){const o={name:n.value,email:a.value,company:c.value,consent:e.classList.contains("checked"),fakeConsent:r.checked};l.disabled=!0,await fetch("https://ibf9nq7m2d.execute-api.eu-central-1.amazonaws.com/prod/connect",{method:"POST",body:JSON.stringify(o)}),s.classList.add("done"),i.classList.add("done"),t.reset()}else[n,a,c,r].forEach((e=>{e.addEventListener("input",(()=>{d()}))})),e.addEventListener("click",(()=>{d()}))}))}));