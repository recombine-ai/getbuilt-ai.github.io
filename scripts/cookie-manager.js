class CookieManager{constructor(){this.prefs=this.getPreferences(),window.cookieManager=this}init(){window.gtag&&window.gtag("consent","update",{analytics_storage:this.prefs.analytics?"granted":"denied",ad_storage:this.prefs.advertising?"granted":"denied"}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"cookie_consent_initialized"})}getPreferences(){try{const e=JSON.parse(localStorage.getItem("cookiePreferences")||"{}");return e.essential=!0,e}catch{return{essential:!0}}}setPreferences(e){e.essential=!0,this.prefs=e,localStorage.setItem("cookiePreferences",JSON.stringify(this.prefs)),this.init()}updatePreferences(e,t){this.prefs[e]=t,this.setPreferences(this.prefs)}shouldShowBanner(){const e=this.getPreferences();return!e||Object.keys(e).length<=1}getDefaultPreferences(){return{essential:!0,analytics:!0,advertising:!0,performance:!0}}acceptAll(){this.setPreferences(this.getDefaultPreferences())}acceptEssential(){this.setPreferences({essential:!0})}saveCustomPreferences(e){this.setPreferences(e)}}const cookieManager=new CookieManager;